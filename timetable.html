<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Planner - ScheduleLynx</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="timetable-page">
  <header class="topbar">
    <h1 class="brand">Schedule Lynx</h1>

    
      <div class="month-label" id="monthLabel">February 2026</div>

    <div class="topbar-actions">
      <button class="btn" id="prevBtn">◀</button>
      <button class="btn" id="todayBtn">Today</button>
      <button class="btn" id="nextBtn">▶</button>
  </div>
</header>

<div class="app-layout">

  <aside class="sidebar">
    <section class="panel">
      <h2>Add Event</h2>

      <form id="taskForm" class="task-form">
          
      <label>
        Title
        <input id="taskTitle" type="text" placeholder="e.g., EECS lab" required />
      </label>

    <label>
      Date
      <input id="taskDate" type="date" required />
    </label>

    <label>
      Time
      <input id="taskTime" type="time" required />
    </label>

    <button class="btn" type="submit">Add</button>
  </form>
</section>
</aside>
  <main class="calendar">
    <div class="dow-row">
        <div class="dow">Sun</div>
        <div class="dow">Mon</div>
        <div class="dow">Tue</div>
        <div class="dow">Wed</div>
        <div class="dow">Thu</div>
        <div class="dow">Fri</div>
        <div class="dow">Sat</div>
    </div>
    
    <div id="monthGrid" class="month-grid"></div>
  </main>

</div>
  

  <script>

    const monthGrid = document.getElementById("monthGrid");
const monthLabel = document.getElementById("monthLabel");

//ck the month you want to display (ex. Feb 2026)
//change this later to get the real date 
const now = new Date();
let current = new Date(now.getFullYear(), now.getMonth(), 1);

const tasks = [];


function pad(n) {
  return String(n).padStart(2, "0");
}

function monthTitle(d) {
  return d.toLocaleString(undefined, { month: "long", year: "numeric" });
}

const prevBtn = document.getElementById("prevBtn");
const nextBtn = document.getElementById("nextBtn");
const todayBtn = document.getElementById("todayBtn");

function toISODate(d) {
  return `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}`;
}



function renderMonth(date) {
  // label at the top
  monthLabel.textContent = monthTitle(date);

  //  clear old boxes (for re-rendering)
  monthGrid.innerHTML = "";

  const year = date.getFullYear();
  const month = date.getMonth();

  //set first day of the month (always the 1st of the month)
  const first = new Date(year, month, 1);

  const firstDow = first.getDay(); // make sunday = 0

  //set the startday shown on calendar (might be old month)
  const start = new Date(first);
  start.setDate(first.getDate() - firstDow);

  // month view shows 6 weeks = 42 boxes
  for (let i = 0; i < 42; i++) {
    const day = new Date(start);
    day.setDate(start.getDate() + i);

    const cell = document.createElement("div");
    cell.className = "day";

    // tint the days not in the current month
    if (day.getMonth() !== month) cell.classList.add("other-month");

    //add the day number in the cell
    const num = document.createElement("div");
    num.className = "day-number";
    num.textContent = day.getDate();
    cell.appendChild(num);

    //task chips
    const chips = document.createElement("div");
    chips.className = "chips";
    cell.appendChild(chips);

    const iso = toISODate(day);
    const todaysTasks = tasks
        .filter(t => t.date === iso)
        .sort((a, b) => a.time.localeCompare(b.time));

    for (const t of todaysTasks) {
    const chip = document.createElement("div");
    chip.className = "chip";
    chip.innerHTML = `<span>${t.title}</span><span class="time">${t.time}</span>`;
    chips.appendChild(chip);
}
    monthGrid.appendChild(cell);
  }
}

renderMonth(current);

prevBtn.addEventListener("click", () => {
  //go to previous month
  current = new Date(current.getFullYear(), current.getMonth() - 1, 1);
  renderMonth(current);
});

nextBtn.addEventListener("click", () => {
  //go to next month
  current = new Date(current.getFullYear(), current.getMonth() + 1, 1);
  renderMonth(current);
});

todayBtn.addEventListener("click", () => {
  //jump to the current real month
  const now = new Date();
  current = new Date(now.getFullYear(), now.getMonth(), 1);
  renderMonth(current);
});

const taskForm = document.getElementById("taskForm");
const taskTitle = document.getElementById("taskTitle");
const taskDate = document.getElementById("taskDate");
const taskTime = document.getElementById("taskTime");

// default date = today
taskDate.value = toISODate(new Date());

taskForm.addEventListener("submit", (e) => {
  e.preventDefault(); // stops page refresh

  tasks.push({
    title: taskTitle.value.trim(),
    date: taskDate.value,
    time: taskTime.value
  });

  // clear title + time (keep date)
  taskTitle.value = "";
  taskTime.value = "";

  renderMonth(current); 
});


      
  </script>


</body>
</html>
